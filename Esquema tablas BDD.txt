
/*****************************************/
-- Tablas y Primary Key.

CREATE TABLE REC_PROVEEDOR
  (
  PROVEEDOR NUMBER (3) NOT NULL,
  NOMBRE_PROVEEDOR VARCHAR2 (50),
  ESTADO_PROVEEDOR NUMBER (3),
  CIUDAD_PROVEEDOR VARCHAR2 (50)
 )
/

ALTER TABLE REC_PROVEEDOR ADD CONSTRAINT PROVEEDOR_PK
  PRIMARY KEY (
  PROVEEDOR
)
/

CREATE TABLE REC_PARTE
  (
  PARTE NUMBER (3) NOT NULL,
  NOMBRE_PARTE VARCHAR2 (50),
  COLOR_PARTE VARCHAR2 (50),
  PESO_PARTE NUMBER (4,2),
  CIUDAD_PARTE VARCHAR2 (50)
 )
/

ALTER TABLE REC_PARTE ADD CONSTRAINT PARTE_PK
  PRIMARY KEY (
  PARTE
)
/

CREATE TABLE REC_PROYECTO
  (
  PROYECTO NUMBER (3) NOT NULL,
  NOMBRE_PROYECTO VARCHAR2 (50),
  CIUDAD_PROYECTO VARCHAR2 (50)
 )
/

ALTER TABLE REC_PROYECTO ADD CONSTRAINT PROYECTO_PK
  PRIMARY KEY (
  PROYECTO
)
/

CREATE TABLE REC_TRANSACCION
  (
  PROVEEDOR NUMBER (3) NOT NULL,
  PARTE NUMBER (3) NOT NULL,
  PROYECTO NUMBER (3) NOT NULL,
  CANTIDAD NUMBER (3)
 )
/

ALTER TABLE REC_TRANSACCION ADD CONSTRAINT TRANSACCION_PK
  PRIMARY KEY ( PROVEEDOR,PARTE,PROYECTO )
/

-- Foreign Key.

ALTER TABLE REC_TRANSACCION ADD CONSTRAINT FK_TRANS_PARTE
  FOREIGN KEY ( PARTE )
 REFERENCES REC_PARTE ( PARTE ) 
/

ALTER TABLE REC_TRANSACCION ADD CONSTRAINT FK_TRANS_PROVEEDOR
  FOREIGN KEY ( PROVEEDOR ) 
  REFERENCES REC_PROVEEDOR ( PROVEEDOR ) 
/

ALTER TABLE REC_TRANSACCION ADD CONSTRAINT FK_TRANS_PROYECTO
  FOREIGN KEY ( PROYECTO )
 REFERENCES REC_PROYECTO ( PROYECTO ) 
/

/***************************************/
-- Datos a Insertar.

INSERT INTO REC_PROVEEDOR VALUES(1,'Daniel',20,'Guatemala');
INSERT INTO REC_PROVEEDOR VALUES(2,'William',10,'El Salvador');
INSERT INTO REC_PROVEEDOR VALUES(3,'Fredy',30,'Honduras');
INSERT INTO REC_PROVEEDOR VALUES(4,'Jose',20,'Nicaragua');
INSERT INTO REC_PROVEEDOR VALUES(5,'Jorge',30,'Costa Rica');

SELECT COUNT(1) FROM REC_PROVEEDOR -- 5 Tuplas insertadas

INSERT INTO REC_PARTE VALUES(1,'Pared','Rojo',12.0,'Honduras');
INSERT INTO REC_PARTE VALUES(2,'Piso','Verde',17.0,'Guatemala');
INSERT INTO REC_PARTE VALUES(3,'Techo','Azul',17.0,'El Salvador');
INSERT INTO REC_PARTE VALUES(4,'Techo','Rojo',14.0,'Honduras');
INSERT INTO REC_PARTE VALUES(5,'Carpinteria','Amarillo',12.0,'Jamaica');
INSERT INTO REC_PARTE VALUES(6,'Herreria','Rojo',19.0,'Cuba');

SELECT COUNT(1) FROM REC_PARTE -- 6 Tuplas insertadas

INSERT INTO REC_PROYECTO VALUES(1,'La Fontana','Honduras');
INSERT INTO REC_PROYECTO VALUES(2,'Altavista','Nicaragua');
INSERT INTO REC_PROYECTO VALUES(3,'Villa Sol','Jamaica');
INSERT INTO REC_PROYECTO VALUES(4,'Ciudad Dorada','Jamaica');
INSERT INTO REC_PROYECTO VALUES(5,'Ciudad Versalles','El Salvador');
INSERT INTO REC_PROYECTO VALUES(6,'Arboleda','Guatemala');
INSERT INTO REC_PROYECTO VALUES(7,'Miramar','El Salvador');

SELECT COUNT(1) FROM REC_PROYECTO -- 7 Tuplas insertadas

INSERT INTO REC_TRANSACCION VALUES(1,1,1,200);
INSERT INTO REC_TRANSACCION VALUES(1,1,4,700);
INSERT INTO REC_TRANSACCION VALUES(2,3,1,400);
INSERT INTO REC_TRANSACCION VALUES(2,3,2,200);
INSERT INTO REC_TRANSACCION VALUES(2,3,3,200);
INSERT INTO REC_TRANSACCION VALUES(2,3,4,500);
INSERT INTO REC_TRANSACCION VALUES(2,3,5,600);
INSERT INTO REC_TRANSACCION VALUES(2,3,6,400);
INSERT INTO REC_TRANSACCION VALUES(2,3,7,600);
INSERT INTO REC_TRANSACCION VALUES(2,5,2,100);
INSERT INTO REC_TRANSACCION VALUES(3,3,1,200);
INSERT INTO REC_TRANSACCION VALUES(3,4,2,500);
INSERT INTO REC_TRANSACCION VALUES(4,6,3,300);
INSERT INTO REC_TRANSACCION VALUES(4,6,7,300);
INSERT INTO REC_TRANSACCION VALUES(5,2,2,200);
INSERT INTO REC_TRANSACCION VALUES(5,2,4,100);
INSERT INTO REC_TRANSACCION VALUES(5,5,5,500);
INSERT INTO REC_TRANSACCION VALUES(5,5,7,100);
INSERT INTO REC_TRANSACCION VALUES(5,6,2,200);
INSERT INTO REC_TRANSACCION VALUES(5,1,4,100);
INSERT INTO REC_TRANSACCION VALUES(5,3,4,200);
INSERT INTO REC_TRANSACCION VALUES(5,4,4,800);
INSERT INTO REC_TRANSACCION VALUES(5,5,4,400);
INSERT INTO REC_TRANSACCION VALUES(5,6,4,500);

SELECT COUNT(1) FROM REC_TRANSACCION -- 24 Tuplas Insertadas
